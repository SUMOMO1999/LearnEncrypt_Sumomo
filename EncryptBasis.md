# 加密是什么
**加密（Encryption）** 是将原始信息（称为明文）转换为另一种形式（称为密文），使之不可读的过程。加密本身并不能防止信息在传输中被窃取或干扰，但能防止窃取信息者获得可理解的内容。
有两种数字数据，一种是传输的数据（也称为动态数据），另一种是存储的数字数据（也称为静态数据）。

## 加密的作用
-	保护机密性：防止敏感信息被未授权方读取。
-	数据完整性：确保数据在传输或存储过程中未被篡改。
-	身份验证：通过加密手段验证数据发送方和接收方的身份。
-	防止数据泄露：即使数据被盗，也无法读取和利用加密数据。

# 加密三要素
- 明文/密文
- 密钥
- 算法
  - 加密算法
  - 解密算法

# 加密流程
数据加密的流程可以分为几个主要步骤：选择数据、选择加密算法、选择加密模式（如果适用）、生成或获取密钥、执行加密操作。下面是详细的流程说明：
- 对称加密算法使用加密模式来处理数据块，而非对称加密算法则用于密钥交换和数字签名。
- 通过合理选择加密算法和模式，可以实现数据的安全保护。

### 1. 选择要加密的数据

确定需要加密的数据。这可以是文件、数据库记录、通信数据等。

### 2. 选择加密算法

根据安全需求和应用场景，选择合适的加密算法：

- **对称加密算法**（如AES、DES、3DES）：适用于需要高效加密大量数据的场景。
- **非对称加密算法**（如RSA、ECC）：适用于加密少量数据、密钥交换、数字签名等场景。

### 3. 选择加密模式（对称加密算法）

如果选择的是对称加密算法，选择适合的加密模式。常见模式包括：

- **ECB（电子密码本模式）**：简单但不安全，不推荐。
- **CBC（密码分组链接模式）**：常用于数据存储和传输。
- **CFB（密文反馈模式）**：适用于流加密。
- **OFB（输出反馈模式）**：适用于流加密，避免错误传播。
- **CTR（计数器模式）**：适用于高性能并行处理。
- **GCM（伽罗瓦/计数器模式）**：提供加密和认证，广泛用于网络通信。

### 4. 生成或获取密钥

- **对称加密**：生成一个随机的密钥，确保密钥长度符合算法要求（如AES-128需要128位密钥）。
- **非对称加密**：生成一对公钥和私钥。公钥用于加密，私钥用于解密。

### 5. 执行加密操作

#### 对称加密流程（以AES-CBC模式为例）

1. **初始化加密组件**：
   - 创建一个AES密码块实例。
   - 生成一个随机的初始化向量（IV）。

2. **数据填充**：
   - 确保数据长度是块大小的整数倍，必要时进行填充。

3. **加密数据**：
   - 使用AES-CBC模式和生成的IV进行加密。

#### 非对称加密流程（以RSA为例）

1. **初始化加密组件**：
   - 生成RSA密钥对。

2. **加密数据**：
   - 使用公钥加密数据。

### 6. 存储或传输加密数据

- **存储**：将加密后的数据存储在安全的介质中，如数据库、文件系统。
- **传输**：通过安全的通信渠道传输加密数据，确保数据在传输过程中不被篡改或泄露。

### 7. 解密数据

解密过程是加密过程的逆过程，使用相同的密钥和加密模式（对称加密）或使用私钥（非对称加密）。



## 常见的数据加密算法

### **对称加密算法**

**对称加密算法** 使用相同的密钥进行加密和解密，速度快但需要安全的密钥管理。

#### 特点：
1. **单一密钥**：加密和解密使用同一个密钥。
2. **速度快**：对称加密算法通常比非对称加密算法快，适合大数据量的加密。
3. **安全性依赖于密钥管理**：密钥必须在加密和解密双方之间安全地传递和存储，如果密钥被泄露，数据的安全性将受到威胁。


#### 对称加密的工作原理：
1. **加密**：使用密钥对明文进行加密，生成密文。
2. **解密**：使用相同的密钥对密文进行解密，恢复原始明文。

#### 常见的对称加密算法：
- **AES（Advanced Encryption Standard，高级加密标准）**：AES是通过将明文分块，并对每个块进行多轮迭代的字节替换、行移位、列混淆和轮密钥加法操作，最终得到密文。
- **DES（Data Encryption Standard，数据加密标准）**：使用一个56位的密钥对64位的明文块进行16轮替代和置换操作，生成64位的密文。现已被AES取代。
#### 加密模式

加密模式（Cipher Mode）是指在 **对称加密** 中，如何处理超过一个块的数据。常见的加密模式包括ECB、CBC、CFB、OFB和GCM。

#### 1. ECB（电子密码本模式，Electronic Codebook Mode）

**ECB模式**每次独立加密每个块的明文。

- **优点**：
  - 简单，易于实现。
  
- **缺点**：
  - 相同的明文块会加密成相同的密文块，容易被攻击者利用模式分析进行破解。

#### 2. CBC（密码分组链接模式，Cipher Block Chaining Mode）

**CBC模式**每个明文块在加密前都会与前一个密文块进行XOR操作，第一个块使用初始化向量（IV）。

- **优点**：
  - 提高了安全性，不同的明文块会生成不同的密文。
  
- **缺点**：
  - 加密需要顺序进行，无法并行处理。

#### 3. CFB（密码反馈模式，Cipher Feedback Mode）

**CFB模式**将前一个密文块作为下一个块的输入，并用密钥加密这个输入，再与当前明文块进行XOR操作。

- **优点**：
  - 适合流加密，可以处理任意大小的明文。
  
- **缺点**：
  - 每次加密依赖于前一个块，处理速度较慢。

#### 4. OFB（输出反馈模式）

**OFB模式**将前一个加密块作为下一个块的输入，不直接对明文进行加密，而是将加密的结果与明文进行XOR操作。

- **优点**：
  - 可以预先计算加密结果，适合实时通信。
  
- **缺点**：
  - 对明文的任何修改都会影响后续的所有密文块。

#### 5. GCM（伽罗瓦/计数器模式）

**GCM模式**结合了计数器模式（CTR）和消息认证码（MAC），提供数据的加密和认证。

- **优点**：
  - 提供高效的加密和认证，广泛用于网络通信。
  
- **缺点**：
  - 实现复杂度较高。


### **非对称加密算法** 

**非对称加密算法** 是指使用不同的公钥和私钥进行加密和解密，安全性高但速度较慢。

#### 特点：
1. **密钥对**：加密和解密使用不同的密钥，公钥用于加密，私钥用于解密。
2. **安全性高**：即使公钥被公开，只有拥有私钥的人才能解密数据。
3. **速度较慢**：非对称加密算法比对称加密算法慢，适合小数据量的加密或用于对称加密的密钥交换。

#### 常见的非对称加密算法：
- **RSA**：最常用的非对称加密算法，适用于安全通信和数据签名。
- **ECC（Elliptic Curve Cryptography，椭圆曲线加密）**：相较于RSA具有更高的安全性和效率。


